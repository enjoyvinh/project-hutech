@{

    
    Page.Title = "Thêm Thể Loại - Dashboard Skyfire Team";
}
@Scripts.Render("~/bundles/dashboard")
@Scripts.Render("~/bundles/hethongheaderjs")
@Scripts.Render("~/bundles/hethongmenujs")

@Scripts.Render(("~/bundles/quanlythembantinjs"))

<div class="wrapper" ng-app="QuanLyThemBanTinModule" ng-controller="commonCtrl" ng-cloak>

    @Html.Partial("~/Views/Shared/_Layout_Header.cshtml")

    @Html.Partial("~/Views/Shared/_Layout_Menu.cshtml")

    <!-- Right side column. Contains the navbar and content of the page -->
    <div class="content-wrapper" ng-controller='QuanLyThemBanTinControl' click-event-listener ng-cloak>
        <loading></loading>
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h1>Quản Lý Bản Tin
            </h1>
            <ol class="breadcrumb">
                <li><a href="home"><i class="fa fa-dashboard"></i>Dashboard</a></li>
                <li class="active">Thêm Bản Tin</li>
            </ol>
        </section>

        <!-- Main content -->
        <section class="content">

            <div class="panel panel-tm1">
                <div class="panel-heading clearfix">
                    <div class="panel-title pull-left">
                        <div class="pull-right">
                            <i class="fa fa-list-alt"></i>
                            Thêm Bản Tin
                        </div>
                    </div>
                    <div class="pull-right">
                        <div class="panel-title"></div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="container-fluid">
                        <!-- Start add contents here -->
                        <form id="formThem" name="formThem" class="form-horizontal" role="form">
                            <div class="row">
                                <div class="col-sm-12 col-lg-12">
                                    <div class="form-group">
                                        <label for="theloai" class="col-md-2 control-label">
                                            Chọn Thể Loại
                                        </label>
                                        <div class="col-md-5">
                                            <select multiple chosen-select
                                                    data-placeholder="example..."
                                                    chosen-width=""
                                                    chosen-deselect="false"
                                                    id="_theloai"
                                                    muilti-dropdow ="true"
                                                    max-selected ="1"
                                                    ng-model="model.form.chitiet.matheloai" data-list="model.data.comboBoxTheLoai"
                                                    ng-options="item.MATHELOAI as item.TENTHELOAI for item in model.data.comboBoxTheLoai">
                                                <option></option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12 col-lg-12">
                                    <div class="form-group">
                                        <label for="tieude" class="col-md-2 control-label">
                                            Tiêu Đề Bản Tin
                                        </label>
                                        <div class="col-md-5">
                                            <input type="text" class="form-control" id="tieude"
                                                name="tieude" maxlength="100"
                                                ng-model="model.form.chitiet.tieude"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12 col-lg-12">
                                    <div class="form-group">
                                        <label for="noidungtomtat" class="col-md-2 control-label">
                                            Chọn Ngày Đăng {{model.form.chitiet.giodang}}
                                        </label>
                                        <div class="col-md-5">
                                            <input type="date" class="form-control" 
                                                datepicker-popup 
                                                ng-model="model.form.chitiet.ngaydang" 
                                                is-open="true" 
                                                min-date="'1990-01-01'" max-date="'2029-12-31'"
                                                datepicker-options="dateOptions" 
                                                date-disabled="disabled(date, mode)" close-text="Close" />
                                            <timepicker ng-model="model.form.chitiet.giodang" ng-change="changed()" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12 col-lg-12">
                                    <div class="form-group">
                                        <label for="noidungtomtat" class="col-md-2 control-label">
                                            Nội Dung Tóm Tắt
                                        </label>
                                        <div class="col-md-5">
                                            <input type="text" class="form-control" id="noidungtomtat"
                                                name="noidungtomtat" maxlength="255"
                                                ng-model="model.form.chitiet.noidungtomtat"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12 col-lg-12">
                                    <div class="form-group">
                                        <label for="noidung" class="col-md-2 control-label">
                                            Nội Dung Bản Tin
                                        </label>
                                        <div class="col-md-10">
                                            <div ckeditor="options" 
                                                ng-model="model.form.chitiet.noidung" 
                                                ready="onReady()"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12 col-lg-12">
                                    <div class="form-group">
                                        <label for="tentacgia" class="col-md-2 control-label">
                                            Tên Tác Giả
                                        </label>
                                        <div class="col-md-5">
                                            <input type="text" class="form-control" id="tentacgia"
                                                name="tentacgia" maxlength="50"
                                                ng-model="model.form.chitiet.tentacgia"/>
                                        </div>
                                    </div>
                                </div>
                            </div>







                            <div class="row">
                                <div class="col-sm-12 col-lg-12">
                                    <div class="form-group">
                                        <label for="mota" class="col-md-2 control-label">
                                            Mô Tả
                                        </label>
                                        <div class="col-md-3">
					                        <div ngf-drop ngf-select 
                                                 ng-model="model.form.chitiet.hinhanh" 
                                                 ng-model-rejected="rejFiles"
						                         ngf-drag-over-class="{accept:'dragover', reject:'dragover-err', delay:100}" 
                                                 class="drop-box"
						                         ngf-multiple="true" 
                                                 ngf-allow-dir="true" 
                                                 ngf-accept="'*.jpg,*.png'"
						                         ngf-drop-available="dropAvailable">
						                        <div ng-hide="dropAvailable">Tập tin không tồn tại.</div>
						                        <div ng-show="dropAvailable">Thả ảnh vào đây hoặc</div>
						                        <div>Bấm để chọn.</div>
					                        </div>
                                        </div>
                                        <div class="col-md-7">
                                            <img class="col-md-12"
                                                 ngf-src="model.form.chitiet.hinhanh[0]" 
                                                 ng-show="model.form.chitiet.hinhanh[0].type.indexOf('image') > -1" 
                                                 ngf-accept="'image/*'">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12 col-lg-12">
                                    <div class="form-group">
                                        <label for="xoa" class="col-md-2 control-label">
                                            Trạng Thái
                                        </label>
                                        <div class="col-md-5">
                                            <input  bs-switch 
                                                    ng-model="model.form.chitiet.xoa"
                                                    type="checkbox"
                                                    switch-active="{{ isActive }}"
                                                    switch-on-text="Mở"
                                                    switch-off-text="Đóng"
                                                    switch-on-color="{{ onColor }}"
                                                    switch-off-color="danger"
                                                    switch-animate="{{ animate }}"
                                                    switch-size="{{ size }}"
                                                    switch-label="{{ label }}"
                                                    switch-icon="{{ icon }}"
                                                    switch-radio-off="{{ radioOff }}"
                                                    switch-label-width="{{ labelWidth }}"
                                                    switch-handle-width="{{ handleWidth }}"
                                                    switch-wrapper="{{ wrapper }}"
                                                    ng-value="'uno'"
                                                    ng-true-value="'1'"
                                                    ng-false-value="'0'"
                                                    switch-inverse="{{ !inverse }}"
                                                    switch-readonly="{{ readonly }}">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2 pull-left">
                                    <button class="btn btn-block btn-warning"
                                        ng-click="goBack()">
                                        <i class="fa fa-chevron-left"></i>&nbsp;
											Trở Về
                                    </button>
                                </div>
                                <div class="col-md-2 pull-right">
                                    <button class="btn btn-block btn-success"
                                        ng-click="doAddNew(model.form.chitiet)">
                                        <i class="fa fa-floppy-o"></i>&nbsp;
											Thêm
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            {{model.form.chitiet}}

        </section>
        <!-- /.content -->
    </div>

    @Html.Partial("~/Views/Shared/_Layout_Footer.cshtml")
</div>

<style>
	form.cmxform {
		width: 50em;
	}
	em.error {
		background:url("images/unchecked.gif") no-repeat 0px 0px;
		padding-left: 16px;
	}
	em.success {
		background:url("images/checked.gif") no-repeat 0px 0px;
		padding-left: 16px;
	}
	form.cmxform label.error {
		margin-left: auto;
		width: 250px;
	}
	em.error {
		color: black;
	}
	#warning {
		display: none;
	}
</style>
